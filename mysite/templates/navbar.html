{% load static %}

<!-- Generic Navigation !-->
{% if promotionActive != False %}
  {% block promotion %}
    {% include "promotion.html" %}
  {% endblock promotion %}
{% endif %}
    <nav class=" navbar navbar-default shadow-0 navbar-expand-lg hide" id="mynav">
      <div class="container hide" >
          <a class="navbar-brand text-center" href="/">
              <!-- <img class="shadow-0 mb-2" src="{% static 'img/logo/logo.png' %}" width="25px" alt="TODO"> -->
              <span class="nav-brand text-gray-700 fw-6"><span class="text-primary fw-7">GE</span>GOO</span>
          </a>

            <div class="collapse navbar-collapse  hide" id="navbarResponsive">
                <form class="search-form-container-navbar ml-2" action="/find/" method="get" >
                      <div class="ml-3">
                          <div class="icon-addon addon-lg">
                              <input type="text" placeholder="Search for Coupons & Merchants" name="q" id="q" autocomplete="off">
                                  <button type="submit" class="search-icon" href="#"><i class="fa fa-search fs-20" aria-hidden="true"></i></button>
                              <div id="selction-ajax"></div>
                          </div>
                      </div>
                  </form>
                <ul class="navbar-nav ml-auto" id="example-one">
                   <li class="nav-item dropdown " style="z-index: 500;">
                        <a class="nav-link text-primary" id="messagesDropdown"  href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{ city.name }}, {{ city.region.name }}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4  icon-location-pin"><path class="fill-gray-600" d="M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zM12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path class="fill-purple-600" d="M12 1a9 9 0 0 1 6.36 15.36l-5.65 5.66a1 1 0 0 1-.71.3V13a3 3 0 0 0 0-6V1z"/></svg>
                        </a>
                        {% if not request.user.is_authenticated %}
                        <div class="dropdown-menu dropdown-menu-small" aria-labelledby="messagesDropdown">
                            <a class="dropdown-item" href="">
                              Change Location
                            </a>
                        </div>
                        {% else %}
                        <div class="dropdown-menu dropdown-menu-small" aria-labelledby="messagesDropdown">
                            <a class="dropdown-item" href="{% url 'users:user_location' %}">
                              Change Location
                            </a>
                        </div>
                        {% endif %}
                    </li>

                    {% if not request.user.is_authenticated %}
                    <li class="nav-item">
                      <a class="nav-link text-primary" href="" id="">{{ ip }}</a>
                    </li>
                    <li class="nav-item pt-1 text-secondary">
                      <span>|</span>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link text-primary" href="{% url 'account_signup' %}" id="">Sign Up</a>
                    </li>
                    <li class="nav-item pt-1 text-secondary">
                      <span>|</span>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="{% url 'account_login' %}" id="">Sign In</a>
                    </li>

                    {% else %}


                <!-- <li class="nav-item">
                  <a class="nav-link" href="#" id="">{% if request.path == '/cart/products/' %}<strong>My Favorites</strong>{% else %} My Favorites {% endif %}</a>
                </li> -->

                  <li class="nav-item dropdown " style="z-index: 500;">
                    <a class="nav-link " id="messagesDropdown"  href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{ user }}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 pb-1 icon-cheveron-down-circle"><circle cx="12" cy="12" r="10" class="fill-white"/><path class="secondary" d="M15.3 10.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z"/></svg>
                    </a>
                      <div class="dropdown-menu dropdown-menu-small" aria-labelledby="messagesDropdown">
                        <a class="dropdown-item" href="{% url 'users:userPage' %}">
                          Dashboard
                        </a>
                        <a class="dropdown-item" href="{% url 'contact-page' %}">
                          My Favorites
                        </a>
                        <a class="dropdown-item" href="#">
                          My Merchants
                        </a>
                        <a class="dropdown-item" href="{% url 'users:user_location' %}">
                          My Location
                        </a>
                        <a class="dropdown-item" href="#">
                          Settings
                        </a>
                        {% if request.user.is_superuser %}
                        <a class="dropdown-item" href="/admin/">
                          Admin Panel
                        </a>
                        {% endif %}
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item text-danger" href="{% url 'account_logout' %}">
                          Logout
                      </a>
                    </div>
                  </li>
                {% endif %}

              </ul>
          </div>
        </div>
    </nav>
    <nav class="navbar navbar-lower shadow-0 navbar-expand-lg hide" id="mynav">
      <div class="container hide merchant-bottom-button-container" >
          <div class="collapse navbar-collapse  hide" id="navbarResponsive">
              <div class="navbar-bottom-button">
                  <span>All Coupons</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Food</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Automotive</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Beauty</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Restaurants</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Tools</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>Travel</span>
              </div>
              <div class="navbar-bottom-button">
                  <span>House</span>
              </div>
          </div>
        </div>
    </nav>

<!--
    <div class="navbar navbar-expand-lg hide navbar-lower">
        <div class="container-fluid hide" style="padding-left: 10%; padding-right: 10%;">
            <ul class="nav navbar-nav" id="example-one">
                <li class="nav-item">
                  <a class="nav-link"  id="">Messages</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  id="">Orders</a>
                </li>
            </ul>
        </div>
    </div>
-->


    <!-- Custom Navigation 100 !-->
    <div class="unhide" style="width:0; height:0; left:0; top: 0; position; fixed;">
      <div class="navigation__bar"></div>

        <input type="checkbox" class="navigation__checkbox" style="display: none;" id="navi-toggle">
        <input type="checkbox" class="navigation__search__checkbox" style="display: none;" id="navi-search-toggle">

        <label for="navi-toggle" class="navigation__button">
            <span class="navigation__icon">&nbsp;</span>
        </label>

        <label for="navi-search-toggle" class="navigation__search__icon">
              <span><i class="fa fa-search" aria-hidden="true"></i></span>
        </label>
        <!-- <a class="navigation__logo" href="/">
          <span class="mt-4 fs-18">Brave</span>
        </a> -->
        {% if not request.user.is_authenticated %}
        <a class="navigation__cart fs-16 mt-1 fw-4" id="messagesDropdown"  href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{ city.name }}, {{ city.region.name }}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6  icon-location-pin"><path class="fill-gray-600" d="M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zM12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path class="fill-purple-600" d="M12 1a9 9 0 0 1 6.36 15.36l-5.65 5.66a1 1 0 0 1-.71.3V13a3 3 0 0 0 0-6V1z"/></svg>
        </a>
        {% else %}
        <a class="navigation__cart fs-16 mt-1 fw-4" id="messagesDropdown"  href="{% url 'users:user_location' %}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{ city.name }}, {{ city.region.name }}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6  icon-location-pin"><path class="fill-gray-600" d="M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zM12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path class="fill-purple-600" d="M12 1a9 9 0 0 1 6.36 15.36l-5.65 5.66a1 1 0 0 1-.71.3V13a3 3 0 0 0 0-6V1z"/></svg>
        </a>
        {% endif %}




        <!-- <div class="navigation__background-search">&nbsp;</div> -->
        <div class="navigation__background">&nbsp;</div>
        <label for="navi-toggle" class="navigation__background-2">
            <div class="">&nbsp;</div>
        </label>

        <label for="navi-search" class="navigation__background-3">
        <div class="">&nbsp;</div>
        </label>

        <div class="navigation__search__bar">
            <form class="navigation__search__input" action="/find/" method="get" >
                    <div class="float-center">
                        <input type="text" placeholder="Search for bumper stickers" name="q" id="q" autocomplete="off">
                        <div id="selction-ajax"></div>
                </div>
            </form>
        </div>


        <nav class="navigation__nav">
            <ul class="navigation__list">
              {% if not request.user.is_authenticated %}
              <li class="navigation__item mb-3"><a href="{% url 'account_signup' %}" class="btn btn-primary-alt px-4 py-2" style="">Join </a></li>
              <li class="navigation__item"><a href="{% url 'account_login' %}" class="navigation__link" style="">Sign In</a></li>
              {% else %}
              <li class="navigation__item"><a href="{% url 'users:userPage' %}" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-user-circle"><circle cx="12" cy="12" r="10" class="fill-gray-400"/><path class="secondary" d="M3.66 17.52A5 5 0 0 1 8 15h8a5 5 0 0 1 4.34 2.52 10 10 0 0 1-16.68 0zM12 13a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>
                  Dashboard</a></li>
              {% if request.user.is_superuser %}
              <li class="navigation__item"><a href="/admin/" class="navigation__link" style="">Admin Panel</a></li>
              {% endif %}
              <li class="navigation__item"><a href="{% url 'account_logout' %}" class="navigation__link text-primary" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-door-exit"><path class="fill-gray-400" d="M11 4h3a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0V6h-2v12h2v-2a1 1 0 0 1 2 0v3a1 1 0 0 1-1 1h-3v1a1 1 0 0 1-1.27.96l-6.98-2A1 1 0 0 1 2 19V5a1 1 0 0 1 .75-.97l6.98-2A1 1 0 0 1 11 3v1z"/><path class="secondary" d="M18.59 11l-1.3-1.3c-.94-.94.47-2.35 1.42-1.4l3 3a1 1 0 0 1 0 1.4l-3 3c-.95.95-2.36-.46-1.42-1.4l1.3-1.3H14a1 1 0 0 1 0-2h4.59z"/></svg>
                  Log Out</a></li>
              {% endif %}
              <li class="navigation__item text-secondary mt-5 fs-10" style="color: #111; border-bottom: 2px solid #CBD5E0;"></li>
              <li class="navigation__item text-secondary text-uppercase fw-5 fs-10" style="font-size: 14px;">General</li>
              <li class="navigation__item "><a href="#" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-heart"><circle cx="12" cy="12" r="10" class="fill-gray-400"/><path class="secondary" d="M12.88 8.88a3 3 0 1 1 4.24 4.24l-4.41 4.42a1 1 0 0 1-1.42 0l-4.41-4.42a3 3 0 1 1 4.24-4.24l.88.88.88-.88z"/></svg>
                  My Favorites</a></li>
              <li class="navigation__item"><a href="{% url 'home-page' %}" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-store"><path class="fill-gray-400" d="M5 8h14a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm1 2v7h12v-7H6z"/><path class="secondary" d="M6 12a4 4 0 0 1-4-4 1 1 0 0 1 .1-.45l2-4A1 1 0 0 1 5 3h14a1 1 0 0 1 .9.55l2 4c.06.14.1.3.1.45a4 4 0 0 1-7 2.65 3.99 3.99 0 0 1-6 0A3.99 3.99 0 0 1 6 12z"/></svg>
                  My Merchants</a></li>
              <li class="navigation__item"><a href="{% url 'users:user_location' %}" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-location-pin"><path class="fill-gray-400" d="M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zM12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path class="secondary" d="M12 1a9 9 0 0 1 6.36 15.36l-5.65 5.66a1 1 0 0 1-.71.3V13a3 3 0 0 0 0-6V1z"/></svg>
                  My Location</a></li>
              <li class="navigation__item"><a href="{% url 'contact-page' %}" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-cog"><path class="fill-gray-400" d="M6.8 3.45c.87-.52 1.82-.92 2.83-1.17a2.5 2.5 0 0 0 4.74 0c1.01.25 1.96.65 2.82 1.17a2.5 2.5 0 0 0 3.36 3.36c.52.86.92 1.8 1.17 2.82a2.5 2.5 0 0 0 0 4.74c-.25 1.01-.65 1.96-1.17 2.82a2.5 2.5 0 0 0-3.36 3.36c-.86.52-1.8.92-2.82 1.17a2.5 2.5 0 0 0-4.74 0c-1.01-.25-1.96-.65-2.82-1.17a2.5 2.5 0 0 0-3.36-3.36 9.94 9.94 0 0 1-1.17-2.82 2.5 2.5 0 0 0 0-4.74c.25-1.01.65-1.96 1.17-2.82a2.5 2.5 0 0 0 3.36-3.36zM12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/><circle cx="12" cy="12" r="2" class="secondary"/></svg>
                  Settings</a></li>
              <li class="navigation__item"><a href="{% url 'contact-page' %}" class="navigation__link" style="">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 mr-2 icon-help"><path class="fill-gray-400" d="M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"/><path class="secondary" d="M12 19.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm1-5.5a1 1 0 0 1-2 0v-1.41a1 1 0 0 1 .55-.9L14 10.5C14.64 10.08 15 9.53 15 9c0-1.03-1.3-2-3-2-1.35 0-2.49.62-2.87 1.43a1 1 0 0 1-1.8-.86C8.05 6.01 9.92 5 12 5c2.7 0 5 1.72 5 4 0 1.3-.76 2.46-2.05 3.24L13 13.2V14z"/></svg>
                  Contact</a></li>


            </ul>
        </nav>
    </div>
