{% extends "account/base.html" %}
{% load i18n %}
{% load static %}
{% load account socialaccount %}
{% load crispy_forms_tags %}

{% block head_title %}{% trans "Login" %}{% endblock %}

{% block content %}


<div class="hide">
    <section class="section-sm vertical-container ">
        <div class="vertical-alignment">
            <div class="card-border bg-gray-20 shadow-5 ml-auto text-center mr-auto mt-3" style="width: 25rem;">
                    <h2 class="my-4 fw-6 fs-24 text-dark">Login</h2>
                    <div class=" text-left px-4 pb-4 pt-3" style="">
                        {% get_providers as socialaccount_providers %}
                        {% if socialaccount_providers %}
                        <p class="text-center">{% blocktrans with site.name as site_name %}Please sign in with one
                          of your existing third party accounts. Or, <a href="">Login to {{ SITE_NAME }}</a>
                          for a {{ site_name }} account and sign in below:{% endblocktrans %}</p>
                        <div class="socialaccount_ballot">
                            <ul class="socialaccount_providers">
                              {% include "socialaccount/snippets/provider_list.html" with process="login" %}
                            </ul>
                            <div class="login-or">
                              {% trans 'or' %}
                            </div>
                        </div>
                        {% include "socialaccount/snippets/login_extra.html" %}
                        {% else %}
                        {% endif %}
                        <form class="login" method="POST" id="loginForm" action="{% url 'account_login' %}" style="list-style-type: none;">
                            {% csrf_token %}
                            <div class="form-group {% if form.login.errors %}has-error{% endif %}">
                                <div class="form-control glyphicon glyphicon-envelope">
                                    {{ form.login }}
                                </div>
                            </div>
                            <div class="form-group {% if form.password.errors %}has-error{% endif %}">
                                <div class="form-control ">
                                    {{ form.password }}
                                </div>
                            </div>
                            <div class="pull-left my-3 remember text-center">
                              {{ form.remember }}
                              <label for="id_remember" class="text-muted fs-14" >Remember me</label>
                            </div>
                            {% if redirect_field_value %}
                            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />{% endif %}
                            <div class="btn-div pull-center">
                              <button class="btn btn-primary-alt btn-block" type="submit">{% trans "Sign In" %}</button>
                            </div>
                        </form>
                        <div class="mt-4 text-center">
                            <h3><span class="text-muted fs-14">New to {{ SITE_NAME }}?</span></h3>
                            <a class="btn btn-secondary-alt btn-block" href="{{ signup_url }}">Register</a>
                        </div>
                        <div class="mt-3 fs-14 text-center"><a class="button secondaryAction" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a></div>
                    </div>
                </div>
                {% if form.errors %}
                <div class="messages" id="message_container" >
                  <div class="ul-trans ml-0">
                    <ul class="" style="list-style-type: none;">
                      {% for error in form.non_field_errors %}
                        <li class="alert alert-danger moveInTop" style="display: inline-block">{{ error|escape }}</li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
                {% endif %}
            </div>
        </section>
    </div>

  <!-- Mobile View -->
   <div class="unhide" style="margin-left: auto; margin-right: auto; max-width: 520px;">
        <div class="text-center px-4 mb-3 mt-5">
             <h2 class="fw-6">{% trans "Login" %}</h2>
        </div>
        <div class="text-left p-4" style="">
           {% get_providers as socialaccount_providers %}
           {% if socialaccount_providers %}
           <p class="text-center">{% blocktrans with site.name as site_name %}Please sign in with one
             of your existing third party accounts. Or, <a href="">sign up</a>
             for a {{ site_name }} account and sign in below:{% endblocktrans %}</p>
           <div class="socialaccount_ballot">
               <ul class="socialaccount_providers">
                 {% include "socialaccount/snippets/provider_list.html" with process="login" %}
               </ul>
               <div class="login-or">
                 {% trans 'or' %}
               </div>
           </div>
        {% include "socialaccount/snippets/login_extra.html" %}
        {% else %}
        {% endif %}
           <form class="login" method="POST" action="{% url 'account_login' %}" style="list-style-type: none;">
               {% csrf_token %}
               <div class="form-group {% if form.login.errors %}has-error{% endif %}">
                   <div class="form-control glyphicon glyphicon-envelope">
                       {{ form.login }}
                   </div>
               </div>
               <div class="form-group {% if form.password.errors %}has-error{% endif %}">
                   <div class="form-control">
                       {{ form.password }}
                   </div>
               </div>
               <div class="pull-left my-3 remember text-center">
                 {{ form.remember }}
                 <label for="id_remember" class="text-muted">Remember me</label>
               </div>
               {% if redirect_field_value %}
               <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />{% endif %}
               <div class="btn-div pull-center">
                 <button class="btn btn-primary-alt btn-block" type="submit">{% trans "Sign In" %}</button>
               </div>
           </form>


           <div class="mt-4 text-center">
               <h3><span class="text-muted" style="font-size: 15px;">New to {{ SITE_NAME }}?</span></h3>
               <a class="btn btn-secondary-alt pb-2" style="width: 100%;"  href="{{ signup_url }}">Register</a>
           </div>
           <div class="text-center mt-3"><a class="button secondaryAction" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a></div>
        </div>
        {% if form.errors %}
        <div class="container-fluid messages" id="message_container" >
          <div class="ul-trans " >
            <ul class="px-2" style="list-style-type: none;">
              {% for error in form.non_field_errors %}
                <li class="alert-inline alert-danger moveInTop" style="display: inline-block">{{ error|escape }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
        {% endif %}
         <div class="hide" style="padding-top: 4rem; margin: auto;">
             <span class="terms" style="font-size: .65em;"><a href="" class="terms">Terms & Conditons</a> | Copyright 2018 <br class="unhide"> Mod Technologies LLC</span>
         </div>
         <div class="py-5"></div>
    </div>


{% endblock content %}
