{% extends 'portal/base.html' %}
{% load static %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block title %}  {{ course.title }} Page | STEMLETICS LLC {% endblock %}

{% block content %}
<div style="height: 3.8rem;"></div>
<section>
		<div class="container-fluid bg-light">
				<div class="container" style="font-size: 15px;">
						<p class="text-left pt-2 pb-2 mb-0"><a href="{% slugurl 'home' %}"><i class="text-dark fa fa-home" aria-hidden="true"></i></a> / <a class="text-dark" href="{% url 'portal:course_list' %}">Courses</a> / Course Content</p>
				</div>
		</div>
  	<div class="container-fluid section-lg-secondary">
				<div class="row">
					<div class="offset-lg-8"></div>
						<div class="col-lg-4 hide-card">
								<div class=" card inline-card">
										<div class="card-header p-1">
												<a href="{% url 'portal:lesson_detail' course.slug course.first_lesson %}">
														<img class="p-0" src="{{ course.image_url }}" style="width:100%;" alt="Card image">
														<img class="p-0 play-button" src="{% static 'img/playoverlay.png' %}" style="width:27%; z-index:10; position: absolute; top: 11%; left: 35%; opacity: 0.9;	" alt="Play button image overlay">
												</a>
												<p><a class="btn btn-primary bg-primary px-5 py-3  mt-4 pull-center" role="button" href="{% url 'portal:lesson_detail' course.slug course.first_lesson %}">Start Course</a></p>
										</div>
										<div class="card-body">
												<h3 class="card-title ">Course Information</h3>
												<dl class="row text-left ml-5 ">
											  <dt class="col-sm-4">Grade</dt>
											  <dd class="col-sm-8">{{ course.targeted_grades }}</dd>
											  <dt class="col-sm-4">Subject</dt>
											  <dd class="col-sm-8">
											    {{ course.subject }}
											  </dd>
										</div>
								</div>
						</div>
				</div>
				<div class="container">
						<div class="row pb-2">

								<div class="col-lg-8 text-left">
										<h1><span class="">{{ course.title }}</span></h1>
										<p class="lead">{{ course.description }} <br></p>
										<p>
										{% if object.rating_average == None %} <i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i>
										{% elif object.rating_average <= 1.5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
										{% elif object.rating_average <= 2.5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg " aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
										{% elif object.rating_average <= 3.5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
										{% elif object.rating_average <= 4.5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
										{% elif object.rating_average <= 5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star  fa-lg star-yellow" aria-hidden="true"></i>
										{% endif %}
										<span class="">({% if object.rating_average == None %}0{% else %}{{ object.rating_average }}{% endif %}) </span><a class="text-light" href="{% url 'portal:review_form' course.pk %}">Rate This Course!</a>
										</p>
										<p>Last Updated 01/2019 <i class="fa fa-comment ml-3" aria-hidden="true"></i> English</p>
								</div>
								<div class="col-lg-4">

							  </div>
						</div>
		    </div>
  	</div>
</section>
	<div class="container pt-5  px-3">
			<div class="row">
					<div class="col-xl-8 col-lg-12 mb-4 unhide-card">
							<div class="card">
									<div class="row">
											<div class="col-lg-5">
													<a href="{% url 'portal:lesson_detail' course.slug course.first_lesson %}">
															<img class="p-2" src="{% static 'img/pic7.png' %}" style="width:100%;" alt="Card image">
															<img class="p-2 play-button" src="{% static 'img/playoverlay.png' %}" style="width:27%; z-index:10; position: absolute; top: 25%; left: 35%; opacity: 0.95;	" alt="Play button image overlay">
													</a>
											</div>
											<div class="col-lg-7">
												<div class="card-body">
														<h3 class="card-title ">Course Information</h3>
														<dl class="row text-left ml-5 ">
														<dt class="col-sm-4">Grade</dt>
														<dd class="col-sm-8">{{ course.targeted_grades }}</dd>
														<dt class="col-sm-4">Subject</dt>
														<dd class="col-sm-8">
															{{ course.subject }}
														</dd>
														<a class="btn btn-primary bg-primary px-5 py-2 pull-left mb-0 mt-3" role="button" href="{% url 'portal:lesson_detail' course.slug course.first_lesson %}">Start Course</a>
												</div>
											</div>
								</div>
						</div>
				</div>
					<div class="col-xl-8 col-lg-12 mb-4">
							<div class="card bg-light">
									<div class="card-body">
											<h3>Course Content</h3>
											<hr>
												<div class="row">
														<div class="col-lg-6">
																<p>{{ course.course_content_1 }}</p>
																<p>{{ course.course_content_2 }}</p>
																<p>{{ course.course_content_3 }}</p>
														</div>
														<div class="col-lg-6">
																<p>{{ course.course_content_4 }}</p>
																<p>{{ course.course_content_5 }}</p>
																<p>{{ course.course_content_6 }}</p>
														</div>
												</div>
									</div>
							</div>
					</div>
			{% for object in object.lessons %}
			<div class="col-xl-8 col-lg-12">
	      	<div class="card my-2" style="width: 100%;">
							<div class="card-header">
									<h6 class="lead">Lesson {{ object.ordering_id }} </h6>
									<h5 class="card-text pt-3">{{ object.title }}</h5>
									<p class="text-muted pb-0 mb-0">{{ object.description }}</p>
							</div>
							<a href="{{ object.get_absolute_url }}" class="card-full-link"  style="text-decoration: none;">
		        		<div class="card-body py-3">
		          			<p class="card-text"><i class="fa fa-lg fa-play-circle "></i> <span class="mb-3 ml-3">Play {{ object.title }}</span></p>
		        		</div>
			      	</a>
	      	</div>
			</div>
			{% endfor %}
			<div class="col-xl-8 col-lg-12 mt-4">
					<div class="card">
							<div class="card-header">
								<h3>Reviews
										{% if request.user.is_authenticated %}
												<a class="btn btn-primary px-4 pull-right" role="button" href="{% url 'portal:review_form' course.pk %}">
														Create Review
												</a>
										{% endif %}
								</h3>
							</div>
							<div class="card-body">
									<div class="row">
										{% if course.course_review.all %}
										{% for object in course.course_review.all %}
											<div class="col-lg-4 my-2">
												<strong>{{ object.review_user.username }}</strong><br>
												{{ object.created_time }}

											</div>
											<div class="col-lg-8 my-2">
												{% if object.rating == 1 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i><i class="fa fa-lg fa-star text-light" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i><i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
												{% elif object.rating == 2 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg " aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
												{% elif object.rating == 3 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
												{% elif object.rating == 4 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star text-light fa-lg" aria-hidden="true"></i>
												{% elif object.rating == 5 %} <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star fa-lg star-yellow" aria-hidden="true"></i> <i class="fa fa-star  fa-lg star-yellow" aria-hidden="true"></i>
												{% endif %}<br>
												<p class="mt-3">{{ object.summary }}</p>
												<hr>
											</div>

											{% endfor %}
									</div>
							</div>
							{% else %}
							<div class="card-body">
									<div class="row">
											<div class="col-lg-12">
													<p>There are no reviews for this course.</p>
											</div>
									</div>
								</div>
							{% endif %}
					</div>
		</div>
	</div>
</div>
</div>
</div>
<div style="margin-bottom: 12rem;"></div>
{% endblock %}
