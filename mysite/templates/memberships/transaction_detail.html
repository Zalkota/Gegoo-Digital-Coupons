{% extends "base-alt.html" %}
{% load staticfiles %}

{% block title %} Transaction Details {% endblock title %}
{% block extra_head %}{% endblock extra_head %}
<!-- TODO: Add a alert message if trailer is overdue -->

{% block content %}
<div class="py-5"></div>
  <div class="container h100">
    <div class="card">
      <div class="card-header px-4">
        <h3 class="mt-2">Transaction Details</h3>
        <p class="text-muted mt-3">Order ID: {{ transaction.order_id }}</p>
      </div>
      <div class="card-body table-responsive">
        <table class="table table-hover text-center">
          <thead >
            <tr>
              <th scope="col" class="text-primary pull-left">CUSTOMER NAME</th>
              <th scope="col"><span class="text-primary pull-left">DATE</span></th>
              <th scope="col"><span class="text-primary pull-left">Subscription Active</span></th>
              <th scope="col"><span class="text-primary pull-left">STATUS</span></th>
              <th scope="col"><span class="text-primary pull-left">ORDER TOTAL</span></th>
            </tr>
          </thead>
          <tbody>
                <tr class="text-left">
                  <td class="text-dark">{{ transaction.user }}</td>
                  <td  class="text-dark ">{{ transaction.timestamp }}</td>
                  <td  class="text-dark ">{{ transaction.subscription.active }}</td>
                  <td  class="text-dark ">{{ transaction.success }}</td>
                  <td  class="text-dark">$ {{ transaction.amount }}</td>
                </tr>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="py-4"></div>

    <div class="card">
      <div class="card-header">
        <h3>Transaction Options</h3>
      </div>
        <div class="card-body py-0">
          <div class="row">
            <div class="col-lg-6 text-center pt-5 pb-3 px-5" style="padding-right:20px; border-right: 1px solid #e5e5e5;">
                <h1><i class="fa fa-2x fa-envelope-o text-success" aria-hidden="true"></i></h1>
                <a href="{% url 'portal:contact_form' transaction.subscription.user_membership.user.email transaction.subscription.user_membership.user %}" class="btn btn-light box-shadow shadow px-4 mt-5">
                  Contact Customer
                </a>
            </div>
            <div class="col-lg-6 text-center pt-5 pb-3 px-5" >
              <h1><i class="fa fa-2x fa-cc-stripe text-primary" aria-hidden="true"></i></h1>
              <a href="https://dashboard.stripe.com" class="btn btn-light box-shadow px-4 mt-5">Transaction Dashboard</a>
            </div>
          </div>
      </div>
    </div>
    <div class="py-4"></div>
    <a class="btn btn-primary bg-primary shadow pr-4 pl-3" role="button" href="{% url 'memberships:transaction_list' %}"><i class="fa fa-chevron-left mr-2" aria-hidden="true"></i> All Transactions</a>
    <div class="py-5"></div>
  </div>


{% endblock content %}
