
{% extends "base-minimal.html" %}
{% load staticfiles %}

{% block title %} User Subscription {% endblock title %}
{% block extra_head %}{% endblock extra_head %}
<!-- TODO: Add a alert message if trailer is overdue -->
{% block content %}
<style>
table td {

border-collapse:collapse;
    border-top: 3px solid rgba(0,0,0,.06); !important
}
table th {

border-collapse:collapse;
    border-top: 3px solid rgba(0,0,0,.06) !important;
}
</style>
<!-- Body Start -->
<section class="section-md">
    <div class="container">
      {% block component %}
        {% include "users/profile_nav.html" %}
      {% endblock component %}
        <div>
    			{% if user_subscription.user_membership.membership != None %}
            <div class="card mb-3">
                <div class="card-header pb-2">
                  <h6 class="lead"><span>{{ user_membership.membership.membership_type }} Membership</span></h6>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-lg-5">
                            <table class="table responsive" >
                                <tbody style="border: none;">
                                  <tr class="text-left">
                                    <td class="text-muted">Interval </td>
                                    <td><span class=" text-dark">Monthly</span></td>
                                  </tr>
                                  <tr class="text-left">
                                    <td class="text-muted">Monthly Cost</td>
                                    <td><span class="text-dark">$ {{ user_membership.membership.price }}</span></td>
                                  </tr>
                                  <tr class="text-left">
                                    <td class="text-muted">Next Payment Due</td>
                                    <td><span class="text-dark">{{ user_subscription.get_next_billing_date }}</span></td>
                                  </tr>
                                  <tr class="text-left">
                                    <td class="text-muted">Purchased</td>
                                    <td><span class="text-dark">{{ user_subscription.get_created_date }}</span></td>
                                  </tr>
                                </tbody>
                            </table>
                        </div>
        							{% if user_subscription.active != False %}
                      <div class="col-lg-3">
                          <p class="lead text-muted mt-3">Active</p><br>
                          <h3 class="text-success pt-0 ">Yes</h3>
                      </div>
                      <div class="col-lg-4">
                          <p class="text-muted lead  mr-3 mt-3 pull-center">Cancel Subscription <br><a class="btn btn-danger shadow pull-center mt-4 " href="{% url 'memberships:cancel' %}"aria-hidden="true">Cancel</a></p>
                      </div>
          						{% else %}
          						<div class="col-lg-3">
          						</div>
          						<div class="col-lg-3">
        					</div>
        					{% endif %}
                  </div>
              </div>
            </div>
    				{% else %}
    				<div class="text-center">
    					<p>You do not have an active membership plan. <a href="{% url 'memberships:select' %}">Click here to view memberships.</a></p>
    				</div>
    				{% endif %}
      </div>
      <div style="margin-bottom: 36rem;"></div>
    </div>
</section>



{% endblock content %}
